digraph Schema {
  node [shape=plaintext]
  compound=true
  subgraph cluster_1 {
    label=":db.part/db"

    subgraph cluster_0 {
      label="first-name attribute"
      "first-name-ident" [label=<
      <table border="0" cellborder="1" cellspacing="0">
        <tr><td>23</td></tr>
        <tr><td>:db/ident</td></tr>
        <tr><td>:user/first-name</td></tr>
        <tr><td>1244</td></tr>
        <tr><td>add</td></tr>
      </table>
      >]

      "first-name-cardinality" [label=<
      <table border="0" cellborder="1" cellspacing="0">
        <tr><td>23</td></tr>
        <tr><td>:db/cardinality</td></tr>
        <tr><td>:db.cardinality/one</td></tr>
        <tr><td>1244</td></tr>
        <tr><td>add</td></tr>
      </table>
      >]

      "first-name-type" [label=<
      <table border="0" cellborder="1" cellspacing="0">
        <tr><td>23</td></tr>
        <tr><td>:db/valueType</td></tr>
        <tr><td>:db.type/string</td></tr>
        <tr><td>1244</td></tr>
        <tr><td>add</td></tr>
      </table>
      >]
    }

    subgraph cluster_2 {
      label="last-name attribute"
      "last-name-ident" [label=<
      <table border="0" cellborder="1" cellspacing="0">
        <tr><td>24</td></tr>
        <tr><td>:db/ident</td></tr>
        <tr><td>:user/first-name</td></tr>
        <tr><td>1244</td></tr>
        <tr><td>add</td></tr>
      </table>
      >]

      "last-name-cardinality" [label=<
      <table border="0" cellborder="1" cellspacing="0">
        <tr><td>24</td></tr>
        <tr><td>:db/cardinality</td></tr>
        <tr><td>:db.cardinality/one</td></tr>
        <tr><td>1244</td></tr>
        <tr><td>add</td></tr>
      </table>
      >]

      "last-name-type" [label=<
      <table border="0" cellborder="1" cellspacing="0">
        <tr><td>24</td></tr>
        <tr><td>:db/valueType</td></tr>
        <tr><td>:db.valueType/string</td></tr>
        <tr><td>1244</td></tr>
        <tr><td>add</td></tr>
      </table>
      >]
    }

    subgraph cluster_3 {
      label="email attribute"
      "email-ident" [label=<
      <table border="0" cellborder="1" cellspacing="0">
        <tr><td>24</td></tr>
        <tr><td>:db/ident</td></tr>
        <tr><td>:user/email</td></tr>
        <tr><td>1244</td></tr>
        <tr><td>add</td></tr>
      </table>
      >]

      "email-cardinality" [label=<
      <table border="0" cellborder="1" cellspacing="0">
        <tr><td>24</td></tr>
        <tr><td>:db/cardinality</td></tr>
        <tr><td>:db.cardinality/many</td></tr>
        <tr><td>1246</td></tr>
        <tr><td>add</td></tr>
      </table>
      >]

      "email-type" [label=<
      <table border="0" cellborder="1" cellspacing="0">
        <tr><td>24</td></tr>
        <tr><td>:db/valueType</td></tr>
        <tr><td>:db.value/string</td></tr>
        <tr><td>1246</td></tr>
        <tr><td>add</td></tr>
      </table>
      >]
    }


    attr23 [label=<
    <table border="0" cellborder="1" cellspacing="0">
      <tr><td>0</td></tr>
      <tr><td>:db.install/attribute</td></tr>
      <tr><td>23</td></tr>
    </table>
    >]

    attr24 [label=<
    <table border="0" cellborder="1" cellspacing="0">
      <tr><td>0</td></tr>
      <tr><td>:db.install/attribute</td></tr>
      <tr><td>24</td></tr>
    </table>
    >]

    attr25 [label=<
    <table border="0" cellborder="1" cellspacing="0">
      <tr><td>0</td></tr>
      <tr><td>:db.install/attribute</td></tr>
      <tr><td>24</td></tr>
    </table>
    >]

    "first-name-ident" -> attr23
    "first-name-cardinality" -> attr23
    "first-name-type" -> attr23

    "last-name-ident" -> attr24
    "last-name-cardinality" -> attr24
    "last-name-type" -> attr24

    "email-ident" -> attr25
    "email-cardinality" -> attr25
    "email-type" -> attr25
  }

  subgraph cluster_11 {
    label="db.part/user"

    subgraph cluster_13 {
      label="Transaction 32142"

      datom1 [label=<
      <table border="0" cellborder="1" cellspacing="0">
        <tr><td><font color="red">2132</font></td></tr>
        <tr><td>:user/first-name</td></tr>
        <tr><td>felix</td></tr>
        <tr><td>32142</td></tr>
        <tr><td>add</td></tr>
      </table>
      >]

      datom2 [label=<
      <table border="0" cellborder="1" cellspacing="0">
        <tr><td><font color="red">2132</font></td></tr>
        <tr><td>:user/last-name</td></tr>
        <tr><td>flores</td></tr>
        <tr><td>32142</td></tr>
        <tr><td>add</td></tr>
      </table>
      >]

      datom3 [label=<
      <table border="0" cellborder="1" cellspacing="0">
        <tr><td><font color="red">2132</font></td></tr>
        <tr><td>:user/email</td></tr>
        <tr><td>felix@neo.com</td></tr>
        <tr><td>32142</td></tr>
        <tr><td>add</td></tr>
      </table>
      >]
    }
  }

  subgraph cluster_99 {
    shape=record
    label="Entity 2132"
    color="grey"
    style="rounded"

    firstname [label="{<fnl>first-name | <fnv>felix}", shape=Mrecord]
    lastname [label="{<lnl>last-name | <lnv>flores}", shape=Mrecord]
    email [label="{<enl>email | <env>felix@neo}", shape=Mrecord]
  }

  datom1 -> firstname:fnv [color=pink, arrowhead=none]
  firstname:fnl -> attr23 [color=pink, arrowhead=none]

  datom2 -> lastname:lnv [color=pink, arrowhead=none]
  lastname:lnl -> attr24 [color=pink, arrowhead=none]

  datom3 -> email:env [color=pink, arrowhead=none]
  email:enl -> attr25 [color=pink, arrowhead=none]
}

// Demo 5
