digraph User {
  node [shape=record]
  compound=true;

  subgraph cluster_99 {
    label=":db.part/db"
    subgraph cluster_0 {
      label=":user/first-name datoms"
      ":db/ident0" [label="{ 1 | :db/ident | :user/first-name | 7 | add }" shape=Mrecord]
      ":db/valueType0" [label="{ 1 | :db/valueType | :db.type/string | 8 | add }" shape=Mrecord]
      ":db/cardinality0" [label="{ 1 | :db/cardinality | :db.cardinality/one | 9 | add }" shape=Mrecord]
    }

    subgraph cluster_1 {
      label=":user/last-name datoms"
      ":db/ident1" [label="{ 2 | :db/ident | :user/last-name | 10 | add }" shape=Mrecord]
      ":db/valueType1" [label="{ 2 | :db/valueType | :db.type/string | 11 | add }" shape=Mrecord]
      ":db/cardinality1" [label="{ 2 | :db/cardinality | :db.cardinality/one | 12 | add }" shape=Mrecord]
    }

    subgraph cluster_2 {
      label=":user/email datoms"
      ":db/ident2" [label="{ 3 | :db/ident | :user/email | 12 | add }" shape=Mrecord]
      ":db/valueType2" [label="{ 3 | :db/valueType | :db.type/string | 14 | add }" shape=Mrecord]
      ":db/cardinality2" [label="{ 3 | :db/cardinality | :db.cardinality/many | 15 | add }" shape=Mrecord]
    }

    subgraph cluster_3 {
      label=":user/twitter datoms"
      ":db/ident3" [label="{ 4 | :db/ident | :user/twitter | 16 | add }" shape=Mrecord]
      ":db/valueType3" [label="{ 4 | :db/valueType | :db.type/string | 17 | add }" shape=Mrecord]
      ":db/cardinality3" [label="{ 4 | :db/cardinality | :db.cardinality/many | 18 | add }" shape=Mrecord]
    }

    subgraph cluster_4 {
      label=":user/homepage datoms"
      ":db/ident4" [label="{ 5 | :db/ident | :user/homepage | 19 | add }" shape=Mrecord]
      ":db/valueType4" [label="{ 5 | :db/valueType | :db.type/string | 20 | add }" shape=Mrecord]
      ":db/cardinality4" [label="{ 5 | :db/cardinality | :db.cardinality/one | 21 | add }" shape=Mrecord]
    }

    subgraph cluster_5 {
      label="first-name"
      attr_1 [label="{ 6 | :db.install/attribute | 1 | 22 | add }" shape=Mrecord]
    }

    subgraph cluster_6 {
      label="last-name"
      attr_2 [label="{ 6 | :db.install/attribute | 2 | 23 | add }" shape=Mrecord]
    }

    subgraph cluster_7 {
      label="email"
      attr_3 [label="{ 6 | :db.install/attribute | 3 | 24 | add }" shape=Mrecord]
    }

    subgraph cluster_8 {
      label="twitter"
      attr_4 [label="{ 6 | :db.install/attribute | 4 | 25 | add }" shape=Mrecord]
    }

    subgraph cluster_9 {
      label="homepage"
      attr_5 [label="{ 6 | :db.install/attribute | 5 | 25 | add }" shape=Mrecord]
    }

    subgraph cluster_10 {
      label="user-entity"
      attr_6 [label="{ 9 | :db.part/db | 6 | 26 | add }" shape=Mrecord]
    }

    ":db/ident0" -> attr_1 [lhead=cluster_5]
    ":db/valueType0" -> attr_1 [lhead=cluster_5]
    ":db/cardinality0" -> attr_1 [lhead=cluster_5]

    ":db/ident1" -> attr_2 [lhead=cluster_6]
    ":db/valueType1" -> attr_2 [lhead=cluster_6]
    ":db/cardinality1" -> attr_2 [lhead=cluster_6]

    ":db/ident2" -> attr_3 [lhead=cluster_7]
    ":db/valueType2" -> attr_3 [lhead=cluster_7]
    ":db/cardinality2" -> attr_3 [lhead=cluster_7]


    ":db/ident3" -> attr_4 [lhead=cluster_8]
    ":db/valueType3" -> attr_4 [lhead=cluster_8]
    ":db/cardinality3" -> attr_4 [lhead=cluster_8]

    ":db/ident4" -> attr_5 [lhead=cluster_9]
    ":db/valueType4" -> attr_5 [lhead=cluster_9]
    ":db/cardinality4" -> attr_5 [lhead=cluster_9]


    attr_1 -> attr_6 [ltail=cluster_5, lhead=cluster_10]
    attr_2 -> attr_6 [ltail=cluster_6, lhead=cluster_10]
    attr_3 -> attr_6 [ltail=cluster_7, lhead=cluster_10]
    attr_4 -> attr_6 [ltail=cluster_8, lhead=cluster_10]
    attr_5 -> attr_6 [ltail=cluster_9, lhead=cluster_10]
  }

  subgraph cluster_11 {
    label="transactions"
    transaction1 [label="{ 1 | :user/first-name | felix | 1 | add }" shape=Mrecord]
    transaction2 [label="{ 1 | :user/last-name | flores | 2 | add }" shape=Mrecord]
    transaction3 [label="{ 1 | :user/email | felixflores@gmail.com | 3 | add }" shape=Mrecord]
    transaction4 [label="{ 1 | :user/email | felix@neo.com | 4 | add }" shape=Mrecord]
    transaction5 [label="{ 1 | :user/twitter | felixflores | 5 | add }" shape=Mrecord]
    transaction6 [label="{ 1 | :user/homepage | http://felixflor.es | 6 | add }" shape=Mrecord]
    transaction7 [label="{ 1 | :user/email | felix@neo.com | 7 | retract }" shape=Mrecord]
  }

  transaction1 -> attr_6 [lhead=cluster_10]
  transaction2 -> attr_6 [lhead=cluster_10]
  transaction3 -> attr_6 [lhead=cluster_10]
  transaction4 -> attr_6 [lhead=cluster_10]
  transaction5 -> attr_6 [lhead=cluster_10]
  transaction6 -> attr_6 [lhead=cluster_10]
  transaction7 -> attr_6 [lhead=cluster_10]
}





